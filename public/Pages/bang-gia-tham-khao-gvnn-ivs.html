<!DOCTYPE html>
<html lang="vi" class="dark scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-lang-key="page_title">IVS JSC - Bảng Giá Dịch Vụ Giáo Viên Nước Ngoài</title>
    <meta name="description" content="Bảng giá tham khảo dịch vụ cung cấp giáo viên nước ngoài của IVS JSC cho các trường học, trung tâm và doanh nghiệp tại Việt Nam, tối ưu hiển thị và giao diện người dùng." data-lang-key="meta_description">
    <meta name="keywords" content="bảng giá giáo viên nước ngoài, giá GVNN, chi phí thuê giáo viên, IVS JSC, giá giáo viên bản ngữ, giá giáo viên Filipino, giáo viên tiếng Anh" data-lang-key="meta_keywords">
    <meta property="og:title" content="Bảng Giá Dịch Vụ Giáo Viên Nước Ngoài | IVS JSC" data-lang-key="og_title">
    <meta property="og:description" content="Chi tiết bảng giá tham khảo cho các gói dịch vụ cung cấp giáo viên nước ngoài Part-time và Full-time từ IVS JSC với giao diện được cải thiện." data-lang-key="og_description">
    <meta property="og:image" content="https://ivsjsc.github.io/images/banners/price-list-og.png">
    <meta property="og:url" content="https://ivsacademy.edu.vn/Pages/bang-gia-tham-khao-gvnn-ivs.html">
    <meta name="author" content="IVS JSC">
    <meta property="og:type" content="website">

    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="/images/logo/logo-192.png">
    <link rel="manifest" href="/manifest.json">
    
    <!-- Google Fonts - Lexend for display, Inter for body text, Be Vietnam Pro for overall -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700;800&family=Poppins:wght@700;800;900&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <!-- AOS for scroll animations -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class', // Re-enabled dark mode
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Be Vietnam Pro', 'Inter', 'sans-serif'],
                        display: ['Poppins', 'Lexend', 'sans-serif'],
                    },
                    colors: {
                        // IVS custom color palette - Adjusted for dark theme
                        'ivs-bg': '#0D1117', // Dark background
                        'ivs-card': '#161B22', // Darker card background
                        'ivs-border': '#30363d', // Dark border
                        'ivs-text-primary': '#FFFFFF', // Changed to pure white for better contrast
                        'ivs-text-secondary': '#F0F0F0', // Changed to lighter gray for better contrast
                        'ivs-blue': '#58a6ff', /* Muted blue */
                        'ivs-blue-darker': '#3b82f6', /* Muted darker blue */
                        'ivs-green': '#34d399', /* Muted green */
                        'ivs-purple': '#8b5cf6', /* Retained vibrant purple as it's less used */
                        'ivs-orange': '#f59e0b', /* Muted orange */
                        'ivs-cyan': '#22D3EE',
                        'ivs-amber': '#F59E0B',
                    },
                    animation: { 
                        'aurora-spin': 'aurora-spin 6s linear infinite' 
                    },
                    keyframes: {
                        'aurora-spin': {
                            '0%': { transform: 'rotate(0deg)' },
                            '100%': { transform: 'rotate(360deg)' },
                        }
                    }
                }
            }
        }
    </script>
    <!-- Custom styles for general layout and specific components -->
    <link rel="stylesheet" href="/css/styles.css"> 
    <style>
        body {
            background-color: var(--ivs-bg);
            color: var(--ivs-text-primary);
        }
        .font-display { font-family: 'Lexend', 'Poppins', sans-serif; } 

        /* Hero Section - Adjusted for dark theme */
        .hero-section {
            background-image: url('https://placehold.co/1920x400/1a202c/E0E0E0?text=FOREIGN+TEACHERS'); /* Placeholder background image for foreign teachers */
            background-size: cover;
            background-position: center;
            position: relative;
            overflow: hidden;
        }
        .hero-section::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(to bottom, rgba(13, 17, 23, 0.8), rgba(13, 17, 23, 0.6)); /* Darker overlay */
            z-index: 0;
        }
        .hero-text-shadow {
            text-shadow: 2px 2px 5px rgba(0,0,0,0.5); /* Darker shadow for text */
            color: var(--ivs-text-primary); /* Ensure text is light on dark background */
        }
        .hero-section h1 {
            color: var(--ivs-text-primary); /* Ensure hero title is light */
        }
        .hero-section p {
            color: var(--ivs-text-primary); /* Changed to primary text color for brightness */
        }

        /* Custom styles for price cards - Adjusted for dark theme */
        .price-card {
            @apply bg-ivs-card border border-ivs-border rounded-lg p-6 shadow-xl flex flex-col h-full;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .price-card:hover {
            @apply transform -translate-y-2 shadow-2xl;
        }
        .price-card-header {
            @apply text-center pb-4 mb-4 border-b border-ivs-border;
        }
        .price-card-title {
            @apply text-3xl font-display font-bold text-ivs-text-primary;
        }
        .price-card-price {
            @apply text-5xl font-display font-extrabold mt-2;
        }
        .price-card-features {
            @apply flex-grow space-y-3 py-4;
        }
        .price-card-feature-item {
            @apply flex items-center text-ivs-text-secondary;
        }
        .price-card-feature-item i {
            @apply text-ivs-green mr-3;
        }
        .price-card-cta {
            @apply mt-6 !text-center;
        }

        /* Styles for spotlight card effect from layout.html - Adjusted for dark theme */
        .spotlight-card {
            --px: 0px;
            --py: 0px;
            position: relative;
            background-color: var(--ivs-card);
            border: 1px solid var(--ivs-border);
            border-radius: 0.5rem; /* rounded-lg */
            padding: 2rem; /* p-8 */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* shadow-xl */
            overflow: hidden;
        }
        .spotlight-card:before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at var(--px) var(--py), rgba(255, 255, 255, 0.1) 0%, transparent 70%); /* Darker spotlight effect */
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }
        .spotlight-card:hover:before {
            opacity: 1;
        }
        /* Specific gradient for service cards */
        .spotlight-card .absolute.inset-0.bg-gradient-to-br {
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }
        .spotlight-card:hover .absolute.inset-0.bg-gradient-to-br {
            opacity: 0.2; /* Increased opacity for darker theme */
        }

        /* CTA Button Styling */
        .cta-button {
            @apply inline-flex items-center px-8 py-4 text-base font-semibold rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg;
            box-shadow: 0 4px 15px rgba(66, 153, 225, 0.3); /* Updated shadow color for muted blue */
        }
        .cta-button:hover {
            box-shadow: 0 6px 20px rgba(66, 153, 225, 0.4); /* Updated shadow color for muted blue */
        }

        /* FAQ Section Styling - Adjusted for dark theme */
        .faq-item {
            @apply bg-ivs-card border border-ivs-border rounded-lg mb-4;
        }
        .faq-question {
            @apply flex justify-between items-center p-5 cursor-pointer text-ivs-text-primary font-semibold text-lg;
        }
        .faq-answer {
            @apply p-5 pt-0 text-ivs-text-secondary hidden;
        }
        .faq-answer.open {
            display: block;
        }
        .faq-question i {
            transition: transform 0.3s ease;
        }
        .faq-question i.rotate-180 {
            transform: rotate(180deg);
        }

        /* Contact Section - Adjusted for dark theme */
        #contact .bg-ivs-card {
            background-color: var(--ivs-card);
            border-color: var(--ivs-border);
        }
        #contact input, #contact textarea {
            background-color: var(--ivs-bg);
            border-color: var(--ivs-border);
            color: var(--ivs-text-primary);
        }
        #contact input:focus, #contact textarea:focus {
            border-color: var(--ivs-blue);
            box-shadow: 0 0 0 2px rgba(88, 166, 255, 0.3); /* Adjusted for dark theme */
        }

        /* Loading overlay - Adjusted for dark theme */
        #loading-overlay {
            background-color: var(--ivs-bg);
        }
    </style>
</head>
<body class="antialiased">
    <!-- Loading overlay -->
    <div id="loading-overlay" class="fixed inset-0 bg-ivs-bg flex items-center justify-center z-[100] transition-opacity duration-500 opacity-100">
        <div class="animate-spin rounded-full h-20 w-20 border-t-4 border-b-4 border-ivs-blue"></div>
    </div>

    <!-- Header will be loaded here by loadComponents.js -->
    <div id="header-placeholder"></div>

    <main>
        <!-- Hero Section -->
        <section class="relative h-screen flex items-center justify-center overflow-hidden text-center hero-section">
            <div id="hero-canvas-container" class="absolute inset-0 z-0"></div>
            <div class="relative z-10 p-6 max-w-4xl mx-auto" data-aos="fade-up" data-aos-duration="1000">
                <h1 class="text-5xl md:text-7xl font-display font-extrabold leading-tight text-ivs-text-primary mb-6 hero-text-shadow" data-lang-key="price_hero_title">
                    Bảng Giá Dịch Vụ Giáo Viên Nước Ngoài
                </h1>
                <p class="text-xl md:text-2xl text-ivs-text-primary mb-8 leading-relaxed hero-text-shadow" data-lang-key="price_hero_subtitle">
                    Giải pháp giáo dục chất lượng cao với chi phí tối ưu cho mọi nhu cầu
                </p>
                <div class="flex flex-col sm:flex-row justify-center gap-4">
                    <a href="#pricing" class="cta-button bg-ivs-blue text-white hover:bg-ivs-blue-darker" data-lang-key="view_price_button">
                        <i class="fas fa-tags mr-2"></i> Xem Bảng Giá
                    </a>
                    <a href="/Pages/foreign-teacher-services.html" class="cta-button bg-ivs-green text-white hover:bg-ivs-green-darker" data-lang-key="back_to_teacher_services">
                        <i class="fas fa-arrow-left mr-2"></i> Trở về trang GVNN
                    </a>
                    <a href="/Pages/teacher-lists-available.html" class="cta-button bg-ivs-orange text-white hover:bg-orange-600" data-lang-key="view_teacher_list">
                        <i class="fas fa-users mr-2"></i> Danh sách GVNN
                    </a>
                    <a href="#contact" class="cta-button bg-ivs-card text-ivs-text-primary border border-ivs-border hover:bg-ivs-border" data-lang-key="contact_consult_button">
                        <i class="fas fa-envelope mr-2"></i> Liên Hệ Tư Vấn
                    </a>
                </div>
            </div>
        </section>

        <!-- Pricing Section - Rewritten for better UX -->
        <section id="pricing" class="py-16 md:py-24 bg-ivs-bg">
            <div class="container mx-auto px-6">
                <h2 class="font-display text-3xl md:text-4xl font-semibold text-center mb-10 text-ivs-text-primary" data-aos="fade-up" data-lang-key="pricing_section_title">
                    Bảng Giá Dịch Vụ Cung Cấp Giáo Viên Nước Ngoài 2025
                </h2>
                <p class="text-center text-ivs-text-secondary max-w-3xl mx-auto mb-12" data-aos="fade-up" data-aos-delay="100" data-lang-key="pricing_section_intro">
                    IVS JSC cung cấp các gói dịch vụ linh hoạt, đáp ứng đa dạng nhu cầu từ trường học, trung tâm đến doanh nghiệp. Giá cả cạnh tranh, chất lượng đảm bảo.
                </p>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12">
                    <!-- Pricing Card: Part-time for Schools -->
                    <div class="price-card" data-aos="fade-up" data-aos-delay="200">
                        <div class="price-card-header">
                            <h3 class="price-card-title text-ivs-blue" data-lang-key="package_school_title">Gói IVS-Trường học</h3>
                            <p class="text-ivs-text-secondary text-lg" data-lang-key="package_parttime_subtitle">Giáo viên tiếng Anh bản ngữ Part-time</p>
                            <p class="price-card-price text-ivs-blue">24$ - 29$<span class="text-xl text-ivs-text-secondary">/giờ</span></p>
                        </div>
                        <div class="price-card-features">
                            <div class="price-card-feature-item"><i class="fas fa-check-circle"></i><span data-lang-key="feature_school_1">Cung cấp giáo viên cho trường công, tư, quốc tế</span></div>
                            <div class="price-card-feature-item"><i class="fas fa-check-circle"></i><span data-lang-key="feature_school_2">Linh hoạt theo số giờ giảng dạy hàng tuần</span></div>
                            <div class="price-card-feature-item"><i class="fas fa-check-circle"></i><span data-lang-key="feature_school_3">Phù hợp chương trình & giáo trình riêng</span></div>
                            <div class="price-card-feature-item"><i class="fas fa-check-circle"></i><span data-lang-key="feature_school_4">Hỗ trợ địa điểm và yêu cầu đặc biệt</span></div>
                            <div class="price-card-feature-item"><i class="fas fa-info-circle text-ivs-text-secondary"></i><span class="text-sm italic" data-lang-key="feature_disclaimer_school">Giá có thể thay đổi tùy thuộc vào yêu cầu cụ thể.</span></div>
                        </div>
                        <div class="price-card-cta">
                            <a href="/contact.html?service=foreign-teacher-school" class="cta-button bg-ivs-blue text-white hover:bg-ivs-blue-darker w-full justify-center" data-lang-key="get_consult_button">
                                <i class="fas fa-handshake mr-2"></i> Nhận Tư Vấn
                            </a>
                        </div>
                    </div>

                    <!-- Pricing Card: Part-time for Centers/Businesses -->
                    <div class="price-card" data-aos="fade-up" data-aos-delay="300">
                        <div class="price-card-header">
                            <h3 class="price-card-title text-ivs-green" data-lang-key="package_center_biz_title">Gói IVS-Trung tâm & Doanh nghiệp</h3>
                            <p class="text-ivs-text-secondary text-lg" data-lang-key="package_parttime_subtitle_2">Giáo viên tiếng Anh bản ngữ Part-time</p>
                            <p class="price-card-price text-ivs-green">25$ - 32$<span class="text-xl text-ivs-text-secondary">/giờ</span></p>
                        </div>
                        <div class="price-card-features">
                            <div class="price-card-feature-item"><i class="fas fa-check-circle"></i><span data-lang-key="feature_center_biz_1">Cung cấp giáo viên cho trung tâm ngoại ngữ</span></div>
                            <div class="price-card-feature-item"><i class="fas fa-check-circle"></i><span data-lang-key="feature_center_biz_2">Đào tạo tiếng Anh theo yêu cầu doanh nghiệp</span></div>
                            <div class="price-card-feature-item"><i class="fas fa-check-circle"></i><span data-lang-key="feature_center_biz_3">Giảng dạy nhóm học nhỏ hoặc cá nhân</span></div>
                            <div class="price-card-feature-item"><i class="fas fa-check-circle"></i><span data-lang-key="feature_center_biz_4">Linh hoạt thời lượng và chương trình đào tạo</span></div>
                            <div class="price-card-feature-item"><i class="fas fa-info-circle text-ivs-text-secondary"></i><span class="text-sm italic" data-lang-key="feature_disclaimer_center_biz">Giá có thể thay đổi tùy thuộc vào thời lượng và chương trình.</span></div>
                        </div>
                        <div class="price-card-cta">
                            <a href="/contact.html?service=foreign-teacher-center-biz" class="cta-button bg-ivs-green text-white hover:bg-ivs-green-darker w-full justify-center" data-lang-key="request_quote_button">
                                <i class="fas fa-briefcase mr-2"></i> Yêu Cầu Báo Giá
                            </a>
                        </div>
                    </div>

                    <!-- Pricing Card: Full-time Options -->
                    <div class="price-card" data-aos="fade-up" data-aos-delay="400">
                        <div class="price-card-header">
                            <h3 class="price-card-title text-ivs-orange" data-lang-key="package_fulltime_title">Gói IVS-Full Time</h3>
                            <p class="text-ivs-text-secondary text-lg" data-lang-key="package_fulltime_subtitle">Giáo viên tiếng Anh Full-time theo tháng</p>
                            <p class="price-card-price text-ivs-orange" data-lang-key="contact_us_price">Liên hệ</p>
                        </div>
                        <div class="price-card-features">
                            <div class="price-card-feature-item"><i class="fas fa-check-circle"></i><span data-lang-key="feature_fulltime_1">Giáo viên Filipino: 1400$ - 1700$/tháng</span></div>
                            <div class="price-card-feature-item"><i class="fas fa-check-circle"></i><span data-lang-key="feature_fulltime_2">Giáo viên bản ngữ: 2400$ - 2700$/tháng</span></div>
                            <div class="price-card-feature-item"><i class="fas fa-check-circle"></i><span data-lang-key="feature_fulltime_3">Đảm bảo chất lượng và sự ổn định</span></div>
                            <div class="price-card-feature-item"><i class="fas fa-check-circle"></i><span data-lang-key="feature_fulltime_4">Hỗ trợ toàn diện về thủ tục, chỗ ở</span></div>
                            <div class="price-card-feature-item"><i class="fas fa-info-circle text-ivs-text-secondary"></i><span class="text-sm italic" data-lang-key="feature_disclaimer_fulltime">Giá mang tính tham khảo, vui lòng liên hệ để có báo giá chính xác.</span></div>
                        </div>
                        <div class="price-card-cta">
                            <a href="/contact.html?service=foreign-teacher-fulltime" class="cta-button bg-ivs-orange text-white hover:bg-orange-600 w-full justify-center" data-lang-key="book_consult_button">
                                <i class="fas fa-calendar-alt mr-2"></i> Đặt Lịch Tư Vấn
                            </a>
                        </div>
                    </div>
                </div>

                <div class="text-center mt-12" data-aos="fade-up" data-aos-delay="500">
                    <p class="text-lg text-ivs-text-primary mb-6" data-lang-key="pricing_cta_text">
                        Bạn có nhu cầu đặc biệt hoặc muốn biết thêm chi tiết về các gói dịch vụ?
                    </p>
                    <a href="/contact.html" class="cta-button bg-ivs-purple hover:bg-purple-700 text-white" data-lang-key="contact_us_button_2">
                        <i class="fas fa-comments mr-2"></i> Liên Hệ Ngay Với Chúng Tôi
                    </a>
                </div>
            </div>
        </section>

        <!-- 4. Giá trị Cốt lõi - Cải thiện bố cục và hiệu ứng -->
        <section class="py-16 md:py-24 bg-ivs-bg border-b border-ivs-border">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center max-w-4xl mx-auto mb-16" data-aos="fade-up">
                    <h2 class="text-3xl md:text-4xl font-bold font-display text-ivs-blue mb-4" data-lang-key="core_values_title">
                        Giá trị Cốt lõi của IVS Academy
                    </h2>
                    <p class="text-lg text-ivs-text-secondary leading-relaxed" data-lang-key="core_values_intro">
                        Những giá trị định hình nên triết lý hoạt động và cam kết của chúng tôi đối với cộng đồng giáo dục.
                    </p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 text-center">
                    <div class="feature-card p-8 border-t-4 border-ivs-blue" data-aos="zoom-in-up" data-aos-delay="100">
                        <i class="fas fa-award text-6xl text-ivs-blue mb-4"></i>
                        <h3 class="text-2xl font-semibold font-display text-ivs-text-primary mb-3" data-lang-key="value_quality_title">Chất lượng</h3>
                        <p class="text-base text-ivs-text-secondary" data-lang-key="value_quality_desc">Cam kết mang đến các chương trình đào tạo và dịch vụ giáo dục đạt chuẩn mực cao nhất, vượt trội và bền vững.</p>
                    </div>
                    <div class="feature-card p-8 border-t-4 border-ivs-green" data-aos="zoom-in-up" data-aos-delay="200">
                        <!-- Icon đã được cập nhật cho "Tận tâm" -->
                        <i class="fas fa-heart-pulse text-6xl text-ivs-green mb-4"></i>
                        <h3 class="text-2xl font-semibold font-display text-ivs-text-primary mb-3" data-lang-key="value_dedication_title">Tận tâm</h3>
                        <p class="text-base text-ivs-text-secondary" data-lang-key="value_dedication_desc">Luôn lắng nghe, thấu hiểu và đồng hành cùng học viên, đối tác trên hành trình phát triển, với sự chăm sóc chu đáo nhất.</p>
                    </div>
                    <div class="feature-card p-8 border-t-4 border-ivs-purple" data-aos="zoom-in-up" data-aos-delay="300">
                        <i class="fas fa-lightbulb text-6xl text-ivs-purple mb-4"></i>
                        <h3 class="text-2xl font-semibold font-display text-ivs-text-primary mb-3" data-lang-key="value_innovation_title">Sáng tạo</h3>
                        <p class="text-base text-ivs-text-secondary" data-lang-key="value_innovation_desc">Không ngừng đổi mới phương pháp, ứng dụng công nghệ để mang lại trải nghiệm học tập hiệu quả và hứng khởi, dẫn đầu xu hướng.</p>
                    </div>
                    <div class="feature-card p-8 border-t-4 border-ivs-amber" data-aos="zoom-in-up" data-aos-delay="400">
                        <i class="fas fa-scale-balanced text-6xl text-ivs-amber mb-4"></i>
                        <h3 class="text-2xl font-semibold font-display text-ivs-text-primary mb-3" data-lang-key="value_equality_title">Bình đẳng</h3>
                        <p class="text-base text-ivs-text-secondary" data-lang-key="value_equality_desc">Tạo môi trường học tập công bằng, tôn trọng sự đa dạng và phát huy tối đa tiềm năng của mỗi cá nhân, không phân biệt.</p>
                    </div>
                </div>
            </div>
        </section>    
    </main>

    <!-- Footer will be loaded here by loadComponents.js -->
    <div id="footer-placeholder"></div>

    <!-- FAB Container will be loaded here by loadComponents.js -->
    <div id="fab-container-placeholder"></div>
        
    <!-- Scroll to top button -->
    <button id="scrollToTopBtn"
            class="hidden fixed bottom-5 right-5 z-[90] items-center justify-center w-10 h-10 md:w-12 md:h-12 rounded-full bg-ivs-card text-ivs-text-primary shadow-lg hover:bg-ivs-border transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-ivs-blue focus:ring-offset-2 focus:ring-offset-ivs-bg"
            aria-label="Scroll to top" data-lang-key="scroll_to_top_aria">
        <i class="fas fa-arrow-up text-lg md:text-xl" aria-hidden="true"></i>
    </button>
    
    <!-- AOS JS -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <!-- Three.js for 3D hero background -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script> 

    <!-- Custom JS files for dynamic components and page logic -->
    <script src="/js/app.js"></script>
    <script src="/js/language.js"></script>
    <!-- Removed this script tag as loadComponent is now inlined -->
    <!-- <script src="/js/loadComponents.js"></script> -->
    <script src="/js/headerController.js"></script>
    <script src="/js/fabController.js"></script>
    <script src="/js/script.js"></script>
    <script src="/js/utils.js"></script>
    <script src="/js/contact-page.js"></script>
    <script src="/js/firebase-init.js"></script>
    <script src="/js/check-translations.js"></script>
    <script src="/js/posts-loader.js"></script>
    <script src="/js/rss-loader.js"></script>
    <script src="/js/typescript.js"></script>
    <script src="/js/tailwind.config.js"></script>

    <script>
        // Define loadComponent function here to ensure it's available
        async function loadComponent(url, elementId) {
            try {
                const response = await fetch(url);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const html = await response.text();
                document.getElementById(elementId).innerHTML = html;
            } catch (error) {
                console.error(`Error loading component ${url}:`, error);
            }
        }

        // Initialize AOS
        AOS.init({
            offset: 80,
            duration: 600,
            easing: 'ease-out-quad',
            once: true,
            mirror: false,
            anchorPlacement: 'top-bottom',
        });

        // Scroll to top button logic
        const scrollToTopBtn = document.getElementById('scrollToTopBtn');
        if (scrollToTopBtn) {
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 200) {
                    scrollToTopBtn.classList.remove('hidden');
                    scrollToTopBtn.classList.add('flex');
                } else {
                    scrollToTopBtn.classList.remove('flex');
                    scrollToTopBtn.classList.add('hidden');
                }
            }, { passive: true });

            scrollToTopBtn.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            // Initialize visibility based on current scroll position
            if (window.pageYOffset <= 200) {
                scrollToTopBtn.classList.add('hidden');
            }
        }

        // Functions from layout.html for 3D hero, animated counters, and spotlight effect
        function initHero3D() {
            const container = document.getElementById('hero-canvas-container');
            const loadingOverlay = document.getElementById('loading-overlay');

            // Failsafe: Hide loading overlay after a timeout even if 3D initialization fails
            const hideOverlayTimeout = setTimeout(() => {
                if (loadingOverlay) {
                    loadingOverlay.style.opacity = '0';
                    setTimeout(() => {
                        loadingOverlay.style.display = 'none';
                    }, 500); // Match transition duration
                }
            }, 5000); // Hide after 5 seconds if not already hidden

            if (!container) {
                console.warn('Container for 3D hero not found. Skipping 3D initialization.');
                clearTimeout(hideOverlayTimeout); // Clear timeout if 3D is skipped
                if (loadingOverlay) {
                    loadingOverlay.style.opacity = '0';
                    setTimeout(() => {
                        loadingOverlay.style.display = 'none';
                    }, 500);
                }
                return;
            }

            let scene, camera, renderer, stars;
            let mouseX = 0, mouseY = 0;

            try {
                function init() {
                    scene = new THREE.Scene();
                    camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 1, 1000);
                    camera.position.z = 1;
                    camera.rotation.x = Math.PI / 2;

                    renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
                    renderer.setSize(window.innerWidth, window.innerHeight);
                    container.appendChild(renderer.domElement);

                    const starGeo = new THREE.BufferGeometry();
                    const starVertices = [];
                    for (let i = 0; i < 8000; i++) {
                        starVertices.push((Math.random() - 0.5) * 2000, (Math.random() - 0.5) * 2000, (Math.random() - 0.5) * 2000);
                    }
                    starGeo.setAttribute('position', new THREE.Float32BufferAttribute(starVertices, 3));

                    let starMaterial = new THREE.PointsMaterial({ color: 0xaaaaaa, size: 0.7, transparent: true });
                    stars = new THREE.Points(starGeo, starMaterial);
                    scene.add(stars);

                    window.addEventListener('resize', onWindowResize, false);
                    document.addEventListener('mousemove', onMouseMove, false);

                    animate();

                    // Hide loading overlay after successful 3D initialization
                    clearTimeout(hideOverlayTimeout); // Clear the failsafe timeout
                    if (loadingOverlay) {
                        loadingOverlay.style.opacity = '0';
                        setTimeout(() => {
                            loadingOverlay.style.display = 'none';
                        }, 500); // Match transition duration
                    }
                }

                function onMouseMove(e) {
                    mouseX = e.clientX - window.innerWidth / 2;
                    mouseY = e.clientY - window.innerHeight / 2;
                }

                function onWindowResize() {
                    camera.aspect = window.innerWidth / window.innerHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(window.innerWidth, window.innerHeight);
                }

                function animate() {
                    requestAnimationFrame(animate);
                    stars.rotation.y += 0.0001;
                    camera.position.y += (-mouseY * 0.00002 - camera.position.y) * 0.05;
                    camera.position.x += (mouseX * 0.00002 - camera.position.x) * 0.05;
                    camera.lookAt(scene.position);
                    renderer.render(scene, camera);
                }

                init(); // Call init directly
            } catch (error) {
                console.error('Error initializing 3D hero:', error);
                // Ensure loading overlay is hidden even if 3D initialization fails
                clearTimeout(hideOverlayTimeout);
                if (loadingOverlay) {
                    loadingOverlay.style.opacity = '0';
                    setTimeout(() => {
                        loadingOverlay.style.display = 'none';
                    }, 500);
                }
            }
        }

        function initAnimatedCounters() {
            const counters = document.querySelectorAll('#impact-counters h3');
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const counter = entry.target;
                        const target = +counter.getAttribute('data-target');
                        const duration = 2000;
                        let start = 0;
                        const step = (timestamp) => {
                            if (!start) start = timestamp;
                            const progress = timestamp - start;
                            const current = Math.min(Math.floor(progress / duration * target), target);
                            counter.innerText = current.toLocaleString('en-US');
                            if (current < target) {
                                requestAnimationFrame(step);
                            }
                        };
                        requestAnimationFrame(step);
                        observer.unobserve(counter);
                    }
                });
            }, { threshold: 0.5 });
            counters.forEach(counter => observer.observe(counter));
        }

        function initSpotlightEffect() {
            const cards = document.querySelectorAll('.spotlight-card');
            cards.forEach(card => {
                card.addEventListener('mousemove', (e) => {
                    const rect = card.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    card.style.setProperty('--px', x + 'px');
                    card.style.setProperty('--py', y + 'px');
                });
            });
        }

        // FAQ Toggle Logic
        function initFaqToggle() {
            const faqQuestions = document.querySelectorAll('.faq-question');
            faqQuestions.forEach(question => {
                question.addEventListener('click', () => {
                    const answer = question.nextElementSibling;
                    const icon = question.querySelector('i');

                    // Close all other open FAQs
                    faqQuestions.forEach(otherQuestion => {
                        if (otherQuestion !== question) {
                            otherQuestion.nextElementSibling.classList.remove('open');
                            otherQuestion.nextElementSibling.style.maxHeight = null;
                            otherQuestion.querySelector('i').classList.remove('rotate-180');
                        }
                    });

                    // Toggle current FAQ
                    answer.classList.toggle('open');
                    icon.classList.toggle('rotate-180');
                    if (answer.style.maxHeight) {
                        answer.style.maxHeight = null;
                    } else {
                        answer.style.maxHeight = answer.scrollHeight + "px";
                    }
                });
            });
        }

        // Initialize all effects and dynamic content after DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            // Load common components
            loadComponent('https://ivsacademy.edu.vn/components/header.html', 'header-placeholder');
            loadComponent('https://ivsacademy.edu.vn/components/footer.html', 'footer-placeholder');
            loadComponent('https://ivsacademy.edu.vn/components/fab-container.html', 'fab-container-placeholder');

            initAnimatedCounters();
            initSpotlightEffect();
            initFaqToggle();
            
            // initHero3D is called on window.onload to ensure it runs after full page load
            // and hides the loading overlay.
        });

        // Call initHero3D on window load
        window.addEventListener('load', initHero3D);
    </script>
</body>
</html>
