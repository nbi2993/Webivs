<!-- FILE: /public/components/header.html -->
<!-- VERSION: 2.12 - Added missing data-lang-key attributes for 'IVS Celestech' section in desktop navigation -->
<!-- DESCRIPTION: Optimized HTML structure for the main header with updated navigation menus and language selection. -->

<header id="ivs-main-header" class="fixed top-0 left-0 right-0 z-40">
    <div class="max-w-7xl mx-auto px-4 h-full">
        <div class="flex items-center justify-between h-full">
            <a href="/index.html" class="flex-shrink-0 flex items-center space-x-2 group" aria-label="IVS JSC Homepage">
                <img src="/images/logo/logo.png" alt="IVS JSC Logo" class="h-9 md:h-10 w-auto object-contain transition-transform duration-300 group-hover:scale-110" onerror="this.onerror=null; this.src='https://placehold.co/40x40/1f2937/ffffff?text=IVS';">
                <span class="hidden sm:inline text-lg md:text-xl font-bold group-hover:text-ivs-accent transition-colors">IVS <span class="text-ivs-accent">JSC</span></span>
            </a>

            <!-- Desktop Navigation -->
            <nav class="hidden md:flex items-center space-x-1" role="navigation" aria-label="Main navigation">
                <a href="/index.html" class="desktop-nav-link" data-lang-key="nav_home">Trang Chủ</a>
                
                <!-- Dropdown "Về IVS" -->
                <div class="desktop-dropdown-container">
                    <button type="button" class="desktop-nav-dropdown-toggle" aria-haspopup="true">
                        <span data-lang-key="nav_about_ivs">Về IVS</span><i class="fas fa-chevron-down text-xs ml-2"></i>
                    </button>
                    <div class="desktop-dropdown p-2 space-y-1">
                        <a href="/about.html" class="dropdown-item" data-lang-key="nav_about_us">Về chúng tôi</a>                        
                        <a href="/Pages/non-profit.html" class="dropdown-item" data-lang-key="nav_non_profit">Phi lợi nhuận</a>
                        <a href="/Pages/careervn.html" class="dropdown-item" data-lang-key="nav_career_opportunities">Cơ hội nghề nghiệp</a>                     
                        <a href="/ivs-global-teacher-hub.html" class="dropdown-item" data-lang-key="nav_foreign_teachers_applying">Teachers Applying</a>
                        <a href="/Pages/international-partnership.html" class="dropdown-item" data-lang-key="solution_international_coop_title">Hợp tác Quốc tế</a>
                    </div>
                </div>

                <!-- Dropdown "Dịch Vụ" -->
                <div class="desktop-dropdown-container">
                    <button type="button" class="desktop-nav-dropdown-toggle" aria-haspopup="true">
                        <span data-lang-key="nav_services">Dịch Vụ</span><i class="fas fa-chevron-down text-xs ml-2"></i>
                    </button>
                    <div class="desktop-mega-menu left-1/2 -translate-x-1/2">
                        <div class="grid grid-cols-3 gap-x-6 p-5"> <!-- Changed to 3 columns -->
                            <!-- Cột trái: Liên kết Giáo dục -->
                            <div class="space-y-2">
                                <h3 class="font-bold text-ivs-accent border-b border-ivs-bg-light pb-2 mb-2" data-lang-key="nav_services_education_title">Liên kết Giáo dục</h3>
                                <a href="/education.html" class="dropdown-item" data-lang-key="nav_services_education_overview"><i class="fas fa-school fa-fw mr-3 text-ivs-accent/70"></i>Tổng quan</a>
                                <a href="/Pages/lkmamnon.html" class="dropdown-item" data-lang-key="nav_services_education_kindergarten"><i class="fas fa-child fa-fw mr-3 text-ivs-accent/70"></i>Liên kết Mầm non</a>
                                <a href="/Pages/lktieuhoc.html" class="dropdown-item" data-lang-key="nav_services_education_primary">
                                    <i class="fas fa-book-reader fa-fw mr-3 text-ivs-accent/70"></i>Liên kết Tiểu học
                                </a>
                                <a href="/Pages/lkthcsthpt.html" class="dropdown-item" data-lang-key="nav_services_education_secondary_high">
                                    <i class="fas fa-user-graduate fa-fw mr-3 text-ivs-accent/70"></i>Liên kết THCS & THPT
                                </a>
                                <a href="/Pages/lkttnn.html" class="dropdown-item" data-lang-key="nav_services_education_language_centers">
                                    <i class="fas fa-language fa-fw mr-3 text-ivs-accent/70"></i>Liên kết Trung tâm Ngoại ngữ
                                </a>
                            </div>
                            <!-- Cột giữa: Giáo viên nước ngoài -->
                            <div class="space-y-2">
                                <h3 class="font-bold text-ivs-accent border-b border-ivs-bg-light pb-2 mb-2" data-lang-key="nav_foreign_teachers">Giáo viên nước ngoài</h3>
                                <a href="/Pages/foreign-teacher-services.html" class="dropdown-item" data-lang-key="nav_foreign_teachers_services">
                                    <i class="fas fa-chalkboard-teacher fa-fw mr-3 text-ivs-accent/70"></i>Dịch vụ GVNN
                                </a>
                                <a href="/Pages/bang-gia-tham-khao-gvnn-ivs.html" class="dropdown-item" data-lang-key="nav_foreign_teachers_price_list">
                                    <i class="fas fa-file-invoice-dollar fa-fw mr-3 text-ivs-accent/70"></i>Bảng giá GVNN
                                </a>
                                <a href="/Pages/teacher-lists-available.html" class="dropdown-item" data-lang-key="nav_foreign_teachers_teacher_list">
                                    <i class="fas fa-users fa-fw mr-3 text-ivs-accent/70"></i>Danh sách GVNN
                                </a>
                            </div>
                            <!-- Cột phải: IVS Celestech - Đã thêm data-lang-key -->
                            <div class="space-y-2">
                                <h3 class="font-bold text-ivs-accent border-b border-ivs-bg-light pb-2 mb-2" data-lang-key="header_ivscelestech_title">IVS Celestech</h3>
                                <a href="/Pages/webdesign.html" class="dropdown-item" data-lang-key="header_ivscelestech_webdesign">
                                    <i class="fas fa-globe fa-fw mr-3 text-ivs-accent/70"></i>Thiết kế Website
                                </a>
                                <a href="/Pages/tech_devices.html" class="dropdown-item" data-lang-key="header_ivscelestech_edtech">
                                    <i class="fas fa-microchip fa-fw mr-3 text-ivs-accent/70"></i>Trang thiết bị công nghệ GD
                                </a>
                                <a href="/Pages/ivscelestech-tcnoithat.html" class="dropdown-item" data-lang-key="header_ivscelestech_tcnoithat">
                                    <i class="fas fa-couch fa-fw mr-3 text-ivs-accent/70"></i>Tư vấn, thi công nội thất GD
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Dropdown "Giải pháp" - Updated to two columns -->
                <div class="desktop-dropdown-container">
                    <button type="button" class="desktop-nav-dropdown-toggle" aria-haspopup="true">
                        <span data-lang-key="nav_solutions">Giải pháp</span><i class="fas fa-chevron-down text-xs ml-2"></i>
                    </button>
                    <div class="desktop-mega-menu left-1/2 -translate-x-1/2"> <!-- Changed to desktop-mega-menu -->
                        <div class="grid grid-cols-2 gap-x-6 p-5">
                            <!-- Cột trái: Công nghệ ứng dụng -->
                            <div class="space-y-2">
                                <h3 class="font-bold text-ivs-accent border-b border-ivs-bg-light pb-2 mb-2" data-lang-key="nav_solutions_tech_title">Công nghệ ứng dụng</h3>
                                <a href="/solutions.html" class="dropdown-item" data-lang-key="nav_solutions_overview"><i class="fas fa-lightbulb fa-fw mr-3 text-ivs-accent/70"></i>Tổng quan</a>
                                <a href="/Pages/ivscelestech.html" class="dropdown-item" data-lang-key="nav_solutions_edtech"><i class="fas fa-code fa-fw mr-3 text-ivs-accent/70"></i>Công nghệ GD</a>
                                <a href="/Pages/upskill.html" class="dropdown-item" data-lang-key="nav_solutions_upskill"><i class="fas fa-arrow-up-right-dots fa-fw mr-3 text-ivs-accent/70"></i>Nâng cao Trình độ</a>
                                <!-- Removed: <a href="/Pages/webdesign.html" class="dropdown-item" data-lang-key="nav_solutions_webdesign"><i class="fas fa-globe fa-fw mr-3 text-ivs-accent/70"></i>Thiết kế Web</a> -->
                            </div>
                            <!-- Cột phải: Tư vấn Pháp lý -->
                            <div class="space-y-2">
                                <h3 class="font-bold text-ivs-accent border-b border-ivs-bg-light pb-2 mb-2" data-lang-key="nav_services_legal_title">Tư vấn Pháp lý</h3>
                                <a href="/Pages/legal_consulting.html" class="dropdown-item" data-lang-key="nav_services_legal_consulting">
                                    <i class="fas fa-gavel fa-fw mr-3 text-ivs-accent/70"></i>Tư vấn Chuyên sâu
                                </a>
                                <a href="/Pages/psb_introduction.html" class="dropdown-item" data-lang-key="nav_services_legal_corporate">
                                    <i class="fas fa-balance-scale fa-fw mr-3 text-ivs-accent/70"></i>Luật Doanh nghiệp
                                </a>
                                <a href="/Pages/litigation_consulting.html" class="dropdown-item" data-lang-key="nav_services_legal_civil">
                                    <i class="fas fa-landmark fa-fw mr-3 text-ivs-accent/70"></i>Pháp luật Dân sự
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="desktop-dropdown-container">
                    <button type="button" class="desktop-nav-dropdown-toggle" aria-haspopup="true">
                        <span data-lang-key="nav_library">Thư Viện</span><i class="fas fa-chevron-down text-xs ml-2"></i>
                    </button>
                    <div class="desktop-dropdown left-1/2 -translate-x-1/2 p-2 space-y-1">
                        <a href="/gallery.html" class="dropdown-item" data-lang-key="nav_library_gallery">Thư viện</a>
                        <a href="/Pages/document-library.html" class="dropdown-item" data-lang-key="nav_library_docs">Tài liệu</a>
                        <a href="/apps/story-repository.html" class="dropdown-item" data-lang-key="nav_library_stories">Kho truyện</a>
                        <a href="/games/ivsgames.html" class="dropdown-item" data-lang-key="nav_library_games">IVS Games</a>
                        <a href="/apps/ivsapps.html" class="dropdown-item" data-lang-key="nav_library_apps">IVS Apps</a>
                    </div>
                </div>

                <a href="/news-archive.html" class="desktop-nav-link" data-lang-key="nav_news">Tin tức</a>
                <a href="/contact.html" class="desktop-nav-link bg-ivs-accent hover:bg-ivs-accent-dark text-white font-bold" data-lang-key="nav_contact">Liên Hệ</a>
            </nav>

            <!-- Language Buttons (Desktop & Mobile) -->
            <div class="flex items-center space-x-2 md:space-x-1 ml-auto md:ml-0 relative">
                <button class="lang-toggle-btn group" data-lang="vi" aria-label="Chọn Tiếng Việt">
                    <img src="/images/flags/vn.png" alt="Cờ Việt Nam" class="h-5 w-7 rounded-sm transition-transform duration-200 group-hover:scale-110" onerror="this.onerror=null; this.src='https://placehold.co/28x20/1f2937/ffffff?text=VI';">
                </button>
                <button class="lang-toggle-btn group" data-lang="en" aria-label="Select English">
                    <img src="/images/flags/en.png" alt="Cờ Anh" class="h-5 w-7 rounded-sm transition-transform duration-200 group-hover:scale-110" onerror="this.onerror=null; this.src='https://placehold.co/28x20/1f2937/ffffff?text=EN';">
                </button>
                
                <!-- Language Change Confirmation Message -->
                <div id="lang-confirm-message" class="absolute top-full mt-2 right-0 bg-gray-800 text-white text-xs px-3 py-1.5 rounded-md shadow-lg opacity-0 scale-90 transition-all duration-300 ease-out pointer-events-none origin-top-right whitespace-nowrap">
                    Language changed!
                </div>

                <!-- Mobile Menu Button (Hamburger) - hidden on desktop -->
                <button id="mobile-menu-open-btn" type="button" class="md:hidden p-2 rounded-lg hover:bg-ivs-bg-light transition-colors" aria-label="Open menu" aria-controls="ivs-mobile-menu-panel">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>
        </div>
    </div>
</header>

<!-- Mobile Menu Panel -->
<div id="ivs-mobile-menu-panel" class="fixed inset-0 z-50 md:hidden hidden" aria-modal="true" role="dialog">
    <!-- Backdrop with blur effect -->
    <div id="ivs-mobile-menu-backdrop" class="absolute inset-0 bg-black/60 backdrop-blur-md transition-opacity duration-300 opacity-0"></div>
    <div id="ivs-mobile-menu-container" class="relative w-full max-w-sm h-full bg-ivs-bg-medium ml-auto flex flex-col transform translate-x-full transition-transform duration-300 ease-in-out">
        <div class="flex items-center justify-between p-4 border-b border-ivs-bg-light">
            <span class="text-lg font-semibold text-ivs-accent" data-lang-key="mobile_menu_title">Menu</span>
            <button id="mobile-menu-close-btn" type="button" class="p-2 rounded-lg hover:bg-ivs-bg-light" aria-label="Close menu">
                <i class="fas fa-times text-xl"></i>
            </button>
        </div>
        <nav id="ivs-mobile-main-nav" class="flex-grow p-4 space-y-2 overflow-y-auto">
            <a href="/index.html" class="mobile-nav-link" data-lang-key="nav_home">Trang Chủ</a>
            
            <!-- Mobile Dropdown "Về IVS" -->
            <div>
                <button class="mobile-submenu-toggle">
                    <span data-lang-key="nav_about_ivs">Về IVS</span><i class="fas fa-chevron-down mobile-submenu-icon"></i>
                </button>
                <div class="mobile-submenu-content">
                    <a href="/about.html" class="mobile-submenu-item" data-lang-key="nav_about_us">Về chúng tôi</a>
                    <a href="/Pages/non-profit.html" class="mobile-submenu-item" data-lang-key="nav_non_profit">Phi lợi nhuận</a>
                    <a href="/Pages/careervn.html" class="mobile-submenu-item" data-lang-key="nav_career_opportunities">Cơ hội nghề nghiệp</a>
                    <a href="/ivs-global-teacher-hub.html" class="mobile-submenu-item" data-lang-key="nav_foreign_teachers_applying">Teachers Applying</a>
                    <a href="/Pages/international-partnership.html" class="mobile-submenu-item" data-lang-key="solution_international_coop_title">Hợp tác Quốc tế</a>                    
                </div>
            </div>

            <div>
                <button class="mobile-submenu-toggle">
                    <span data-lang-key="nav_services">Dịch Vụ</span><i class="fas fa-chevron-down mobile-submenu-icon"></i>
                </button>
                <div class="mobile-submenu-content">
                    <!-- Updated Mobile Services Submenu -->
                    <h4 class="text-ivs-text-primary px-3 py-2 font-semibold" data-lang-key="nav_services_education_title">Liên kết Giáo dục</h4>
                    <a href="/consulting.html" class="mobile-submenu-item" data-lang-key="nav_services_education_overview">Tổng quan</a>
                    <a href="/Pages/lkmamnon.html" class="mobile-submenu-item" data-lang-key="nav_services_education_kindergarten">Liên kết Mầm non</a>
                    <a href="/Pages/lktieuhoc.html" class="mobile-submenu-item" data-lang-key="nav_services_education_primary">Liên kết Tiểu học</a>
                    <a href="/Pages/lkthcsthpt.html" class="mobile-submenu-item" data-lang-key="nav_services_education_secondary_high">Liên kết THCS & THPT</a>
                    <a href="/Pages/lkttnn.html" class="mobile-submenu-item" data-lang-key="nav_services_education_language_centers">Liên kết Trung tâm Ngoại ngữ</a>
                    <!-- Links related to Foreign Teachers for mobile -->
                    <h4 class="text-ivs-text-primary px-3 py-2 font-semibold mt-3" data-lang-key="nav_foreign_teachers">Giáo viên nước ngoài</h4>
                    <a href="/Pages/foreign-teacher-services.html" class="mobile-submenu-item" data-lang-key="nav_foreign_teachers_services">Dịch vụ GVNN</a>
                    <a href="/Pages/bang-gia-tham-khao-gvnn-ivs.html" class="mobile-submenu-item" data-lang-key="nav_foreign_teachers_price_list">Bảng giá tham khảo</a>
                    <a href="/Pages/teacher-lists-available.html" class="mobile-submenu-item" data-lang-key="nav_foreign_teachers_teacher_list">Danh sách Giáo viên</a>
                    <!-- IVS Celestech for mobile - Đã có data-lang-key -->
                    <h4 class="text-ivs-text-primary px-3 py-2 font-semibold mt-3" data-lang-key="header_ivscelestech_title">IVS Celestech</h4>
                    <a href="/Pages/webdesign.html" class="mobile-submenu-item" data-lang-key="header_ivscelestech_webdesign">Thiết kế Website</a>
                    <a href="/Pages/ivscelestech.html" class="mobile-submenu-item" data-lang-key="header_ivscelestech_edtech">Trang thiết bị công nghệ GD</a>
                    <a href="/Pages/ivscelestech-tcnoithat.html" class="mobile-submenu-item" data-lang-key="header_ivscelestech_tcnoithat">Tư vấn, thi công nội thất GD</a>
                </div>
            </div>

            <!-- Mobile Dropdown "Giải pháp" - Updated with new title -->
            <div>
                <button class="mobile-submenu-toggle">
                    <span data-lang-key="nav_solutions">Giải pháp</span><i class="fas fa-chevron-down mobile-submenu-icon"></i>
                </button>
                <div class="mobile-submenu-content">
                    <h4 class="text-ivs-text-primary px-3 py-2 font-semibold" data-lang-key="nav_solutions_tech_title">Công nghệ ứng dụng</h4>
                    <a href="/solutions.html" class="mobile-submenu-item" data-lang-key="nav_solutions_overview">Tổng quan</a>
                    <a href="/Pages/ivscelestech.html" class="mobile-submenu-item" data-lang-key="nav_solutions_edtech">Công nghệ GD</a>
                    <a href="/Pages/upskill.html" class="mobile-submenu-item" data-lang-key="nav_solutions_upskill">Nâng cao Trình độ</a>

                    <h4 class="text-ivs-text-primary px-3 py-2 font-semibold mt-3" data-lang-key="nav_services_legal_title">Tư vấn Pháp lý</h4>
                    <a href="/Pages/legal_consulting.html" class="mobile-submenu-item" data-lang-key="nav_services_legal_consulting">Tư vấn Chuyên sâu</a>
                    <a href="/Pages/psb_introduction.html" class="mobile-submenu-item" data-lang-key="nav_services_legal_corporate">Luật Doanh nghiệp</a>
                    <a href="/Pages/litigation_consulting.html" class="mobile-submenu-item" data-lang-key="nav_services_legal_civil">Pháp luật Dân sự</a>
                </div>
            </div>

            <div>
                <button class="mobile-submenu-toggle">
                    <span data-lang-key="nav_library">Thư Viện</span><i class="fas fa-chevron-down mobile-submenu-icon"></i>
                </button>
                <div class="mobile-submenu-content">
                    <a href="/gallery.html" class="mobile-submenu-item" data-lang-key="nav_library_gallery">Thư viện</a>
                    <a href="/Pages/document-library.html" class="mobile-submenu-item" data-lang-key="nav_library_docs">Tài liệu</a>
                    <a href="/apps/story-repository.html" class="mobile-submenu-item" data-lang-key="nav_library_stories">Kho truyện</a>
                    <a href="/games/ivsgames.html" class="mobile-submenu-item" data-lang-key="nav_library_games">IVS Games</a>
                    <a href="/apps/ivsapps.html" class="mobile-submenu-item" data-lang-key="nav_library_apps">IVS Apps</a>
                </div>
            </div>

            <a href="/news-archive.html" class="mobile-nav-link" data-lang-key="nav_news">Tin tức</a>
            <!-- Contact link restored for mobile menu -->
            <a href="/contact.html" class="mobile-nav-link" data-lang-key="nav_contact">Liên Hệ</a>
        </nav>
    </div>
</div>



<!-- Inline styles for component-specific CSS -->
<!-- It's recommended to move these to a central CSS file for production -->
<style>
    :root {
        /* Layout dimensions */
        --header-height: 64px;
        --desktop-header-height: 72px;

        /* Core colors */
        --ivs-bg-dark: #111827;
        --ivs-bg-medium: #1f2937;
        --ivs-bg-light: #374151;
        --ivs-text-primary: #f9fafb;
        --ivs-text-secondary: #d1d5db;
        
        /* Accent colors */
        --ivs-accent: #F97316;
        --ivs-accent-dark: #ea580c;
        --ivs-accent-light: #fdba74;
        --ivs-accent-gradient: linear-gradient(135deg, #F97316 0%, #ea580c 100%);
        
        /* Interactive states */
        --ivs-link-active-bg: rgba(249, 115, 22, 0.15);
        --ivs-hover-transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        
        /* Shadows */
        --ivs-shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);
        --ivs-shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        --ivs-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        --ivs-shadow-accent: 0 4px 15px rgba(249, 115, 22, 0.3);
        
        /* Glass effect */
        --ivs-glass-bg: rgba(31, 41, 55, 0.8);
        --ivs-glass-border: rgba(255, 255, 255, 0.1);
        --ivs-glass-blur: blur(12px);
    }

    #ivs-main-header {
        transition: all var(--ivs-hover-transition);
    }

    #ivs-main-header.scrolled {
        background: linear-gradient(to bottom, var(--ivs-glass-bg), rgba(17, 24, 39, 0.75));
        backdrop-filter: var(--ivs-glass-blur);
        box-shadow: 
            0 4px 15px rgba(0, 0, 0, 0.2),
            0 0 30px rgba(249, 115, 22, 0.1);
        border-bottom: 1px solid var(--ivs-glass-border);
    }

    #ivs-main-header.scrolled::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: var(--ivs-accent-gradient);
        opacity: 0.5;
    }
    
    .desktop-nav-link, .desktop-nav-dropdown-toggle {
        display: inline-flex;
        align-items: center;
        padding: 8px 16px;
        font-size: 0.95rem;
        font-weight: 500;
        color: var(--ivs-text-secondary);
        border-radius: 0.5rem;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
        background: linear-gradient(to right, var(--ivs-bg-light) 50%, transparent 50%);
        background-size: 200% 100%;
        background-position: right bottom;
    }
    
    .desktop-nav-link::before, .desktop-nav-dropdown-toggle::before {
        content: '';
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 0;
        height: 2px;
        background-color: var(--ivs-accent);
        transition: width 0.3s ease;
    }
    
    .desktop-nav-link:hover, .desktop-nav-dropdown-toggle:hover {
        color: var(--ivs-text-primary);
        background-position: left bottom;
        transform: translateY(-2px);
    }
    
    .desktop-nav-link:hover::before, .desktop-nav-dropdown-toggle:hover::before {
        width: 80%;
    }
    
    .desktop-nav-link.active {
        color: var(--ivs-accent);
        font-weight: 600;
        background: var(--ivs-link-active-bg);
        box-shadow: 0 2px 8px rgba(249, 115, 22, 0.2);
    }
    
    .desktop-nav-link.active::before {
        width: 100%;
        height: 3px;
        background: linear-gradient(90deg, var(--ivs-accent) 0%, var(--ivs-accent-dark) 100%);
    }

    .desktop-dropdown-container { position: relative; }
    .desktop-dropdown, .desktop-mega-menu {
        position: absolute;
        top: 100%;
        left: 0;
        z-index: 50;
        background: linear-gradient(to bottom right, var(--ivs-bg-medium), rgba(31, 41, 55, 0.98));
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 1rem;
        box-shadow: 
            0 10px 25px -5px rgba(0, 0, 0, 0.3),
            0 0 20px rgba(249, 115, 22, 0.1);
        margin-top: 12px;
        opacity: 0;
        visibility: hidden;
        transform: translateY(-15px) scale(0.95);
        transform-origin: top;
        transition: 
            opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1),
            transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
            visibility 0s linear 0.3s,
            box-shadow 0.3s ease;
        backdrop-filter: blur(12px);
    }

    .desktop-dropdown::before,
    .desktop-mega-menu::before {
        content: '';
        position: absolute;
        top: -6px;
        left: 20%;
        width: 12px;
        height: 12px;
        background: inherit;
        border-left: 1px solid rgba(255, 255, 255, 0.1);
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        transform: rotate(45deg);
    }

    .desktop-dropdown-container:hover .desktop-dropdown,
    .desktop-dropdown-container:hover .desktop-mega-menu {
        opacity: 1;
        visibility: visible;
        transform: translateY(0) scale(1);
        transition-delay: 0s;
        box-shadow: 
            0 20px 35px -10px rgba(0, 0, 0, 0.4),
            0 0 30px rgba(249, 115, 22, 0.15);
    }

    .desktop-dropdown { width: 240px; }
    .desktop-mega-menu { width: 780px; } /* Increased width for 3 columns */

    .dropdown-item {
        display: flex;
        align-items: center;
        width: 100%;
        text-align: left;
        padding: 12px 16px;
        color: var(--ivs-text-secondary);
        border-radius: 0.5rem;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        margin: 4px 6px;
        position: relative;
        background: linear-gradient(to right, var(--ivs-bg-light) 50%, transparent 50%);
        background-size: 200% 100%;
        background-position: right bottom;
    }

    .dropdown-item i {
        transition: transform 0.3s ease;
        position: relative;
    }

    .dropdown-item:hover {
        color: var(--ivs-text-primary);
        background-position: left bottom;
        padding-left: 20px;
    }

    .dropdown-item:hover i {
        transform: scale(1.2) rotate(5deg);
    }

    .dropdown-item::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 0;
        height: 2px;
        background: linear-gradient(90deg, var(--ivs-accent), transparent);
        transition: width 0.3s ease;
    }

    .dropdown-item:hover::after {
        width: 100%;
    }
    
    .lang-toggle-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 6px;
        border-radius: 0.5rem;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        background-color: transparent;
        border: 2px solid transparent;
        cursor: pointer;
        position: relative;
        overflow: hidden;
    }

    .lang-toggle-btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
            90deg,
            transparent,
            rgba(255, 255, 255, 0.2),
            transparent
        );
        transition: left 0.5s ease;
    }

    .lang-toggle-btn:hover {
        background-color: var(--ivs-bg-light);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    .lang-toggle-btn:hover::before {
        left: 100%;
    }

    .lang-toggle-btn:active {
        transform: translateY(0);
    }

    .lang-toggle-btn.active-language {
        background: linear-gradient(145deg, var(--ivs-accent), var(--ivs-accent-dark));
        border: 2px solid rgba(255, 255, 255, 0.1);
        box-shadow: 
            0 4px 15px rgba(249, 115, 22, 0.3),
            inset 0 2px 4px rgba(255, 255, 255, 0.1);
    }

    .lang-toggle-btn img {
        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
        transition: transform 0.3s ease;
    }

    .lang-toggle-btn:hover img {
        transform: scale(1.1);
    }

    /* Mobile menu styles */
    /* Updated to use 'hidden' class with JS toggle */
    /* Mobile Menu Panel Styling */
    #ivs-mobile-menu-panel {
        transition: visibility 0.3s;
    }
    
    #ivs-mobile-menu-panel.hidden {
        visibility: hidden;
    }

    #ivs-mobile-menu-backdrop {
        opacity: 0;
        backdrop-filter: blur(8px);
        background: linear-gradient(to bottom right, 
            rgba(17, 24, 39, 0.8),
            rgba(17, 24, 39, 0.95)
        );
        transition: opacity 0.3s ease-in-out;
    }

    #ivs-mobile-menu-panel:not(.hidden) #ivs-mobile-menu-backdrop {
        opacity: 1;
    }

    #ivs-mobile-menu-container {
        background: linear-gradient(135deg, 
            rgba(31, 41, 55, 0.95),
            rgba(17, 24, 39, 0.98)
        );
        backdrop-filter: blur(12px);
        box-shadow: 
            -10px 0 30px rgba(0, 0, 0, 0.3),
            inset 1px 0 rgba(255, 255, 255, 0.1);
        transform: translateX(100%);
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    #ivs-mobile-menu-panel:not(.hidden) #ivs-mobile-menu-container {
        transform: translateX(0);
    }
    
    .mobile-submenu-content {
        max-height: 0; overflow: hidden;
        transition: max-height 0.4s ease-out;
        padding-left: 1rem;
    }
    
    .mobile-submenu-toggle { /* Style for mobile submenu toggle buttons */
        display: flex; justify-content: space-between; align-items: center;
        width: 100%; padding: 0.5rem 0.75rem; font-weight: 500;
        color: var(--ivs-text-secondary); border-radius: 0.375rem;
        text-align: left; /* Ensure text aligns left */
    }

    .mobile-submenu-toggle:hover {
        background-color: var(--ivs-bg-light); color: var(--ivs-text-primary);
    }

    .mobile-submenu-icon {
        transition: transform 0.3s ease;
    }
    .mobile-submenu-toggle[aria-expanded="true"] .mobile-submenu-icon {
        transform: rotate(180deg);
    }

    .mobile-submenu-item { /* Style for individual items inside mobile submenus */
        display: block; /* Ensure it takes full width */
        padding: 0.5rem 1rem; /* Adjust padding for nested items */
        color: var(--ivs-text-secondary); border-radius: 0.375rem;
        transition: background-color 0.2s, color 0.2s;
        text-align: left; /* Ensure text aligns left */
    }

    .mobile-submenu-item:hover {
        background-color: var(--ivs-bg-light); color: var(--ivs-text-primary);
    }


</style>
